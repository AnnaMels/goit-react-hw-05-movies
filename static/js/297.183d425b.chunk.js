"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[297],{297:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(885),a=n(871),i=n(791),s=n(260),o=n(881),c=n(501),u="MovieInfo_button__0Ajue",f="MovieInfo_container__MNRAo",p="MovieInfo_movieInfo__LxIpr",l="MovieInfo_movieDetails__Z++1w",h="MovieInfo_title__oNnRW",v="MovieInfo_additionalInfo__1eqYM",m="MovieInfo_cardList__iO13G",d="MovieInfo_cardLink__+2F2x",g="MovieInfo_active__XQDP5",_="MovieInfo_cardListItem__7rQNS",x=n(184),j=function(e){var t,n=e.film,r=e.error,i=(0,a.s0)(),s=(null===(t=(0,a.TH)().state)||void 0===t?void 0:t.from)||"/movies";return(0,x.jsx)(x.Fragment,{children:r?(0,x.jsx)("p",{children:"Page not found"}):(0,x.jsxs)("div",{className:f,children:[(0,x.jsx)("button",{className:u,onClick:function(){return i(s)},children:"Go back"}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("img",{src:n.img,alt:n.title}),(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)("h1",{className:h,children:n.title}),(0,x.jsxs)("p",{children:["User Score: ",n.score,"%"]}),(0,x.jsx)("h2",{className:h,children:"Overview"}),(0,x.jsx)("p",{children:n.overview}),(0,x.jsx)("h3",{className:h,children:"Genres"}),(0,x.jsx)("p",{children:n.genres})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:v,children:"Additional information"}),(0,x.jsxs)("ul",{className:m,children:[(0,x.jsx)("li",{className:_,children:(0,x.jsx)(c.OL,{className:function(e){var t=e.isActive;return"".concat(t?g:d)},state:{from:s},to:"cast",children:"Cast"})}),(0,x.jsx)("li",{className:_,children:(0,x.jsx)(c.OL,{className:function(e){var t=e.isActive;return"".concat(t?g:d)},state:{from:s},to:"review",children:"Review"})})]}),(0,x.jsx)(a.j3,{})]})]})})},N=function(){var e=(0,i.useState)({}),t=(0,r.Z)(e,2),n=t[0],c=t[1],u=(0,i.useState)(!1),f=(0,r.Z)(u,2),p=f[0],l=f[1],h=(0,a.UO)().id;return(0,i.useEffect)((function(){(0,o.Ny)(h).then((function(e){!1===e.success&&l(!0),function(e){var t=[];e.genres&&e.genres.map((function(e){return t.push(e.name)}));var n=t.join(", "),r=e.poster_path?"https://image.tmdb.org/t/p/w300/".concat(e.poster_path):s,a={title:e.title,img:r,score:Math.ceil(10*e.vote_average),overview:e.overview,genres:n};c(a)}(e)}))}),[h]),(0,x.jsx)(j,{film:n,error:p})}},881:function(e,t,n){n.d(t,{Md:function(){return h},Ny:function(){return o},oO:function(){return m},wr:function(){return u},y:function(){return p}});var r=n(861),a=n(757),i=n.n(a),s="584850c42ae7d2e479212f5963ad1dce";function o(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="movie-"+t,!(r=sessionStorage.getItem(n))){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return e.next=6,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(s,"&language=en-US")).then((function(e){return e.json()})).then((function(e){return sessionStorage.setItem(n,JSON.stringify(e)),e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=sessionStorage.getItem("data"))){e.next=3;break}return e.abrupt("return",JSON.parse(t));case 3:return e.next=5,fetch("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(s)).then((function(e){return e.json()})).then((function(e){return sessionStorage.setItem("data",JSON.stringify(e)),e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="movieCast-"+t,!(r=sessionStorage.getItem(n))){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return e.next=6,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(s,"&language=en-US")).then((function(e){return e.json()})).then((function(e){return sessionStorage.setItem(n,JSON.stringify(e)),e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(s,"&language=en-US&page=1&include_adult=false&query=").concat(t)).then((function(e){return e.json()})).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="movieReview-"+t,!(r=sessionStorage.getItem(n))){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return e.next=6,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(s,"&language=en-US&page=1")).then((function(e){return e.json()})).then((function(e){return sessionStorage.setItem(n,JSON.stringify(e)),e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},260:function(e,t,n){e.exports=n.p+"static/media/filmCardDefaultImg.3ff97c3b0281a878dac2.png"}}]);
//# sourceMappingURL=297.183d425b.chunk.js.map