"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[297],{297:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(885),a=n(871),s=n(791),i=n(260),o=n(881),c=n(501),u="MovieInfo_button__0Ajue",f="MovieInfo_container__MNRAo",p="MovieInfo_movieInfo__LxIpr",l="MovieInfo_cardImage__+pc+O",h="MovieInfo_score__v69LA",v="MovieInfo_movieDetails__Z++1w",m="MovieInfo_mainTitle__HYGL5",d="MovieInfo_title__oNnRW",_="MovieInfo_addInfoWrapper__vc7Kr",g="MovieInfo_additionalInfo__1eqYM",x="MovieInfo_cardList__iO13G",j="MovieInfo_cardLink__+2F2x",I="MovieInfo_active__XQDP5",N="MovieInfo_cardListItem__7rQNS",b=n(184),w=function(e){var t,n=e.film,r=e.error,s=(0,a.s0)(),i=(null===(t=(0,a.TH)().state)||void 0===t?void 0:t.from)||"/movies";return(0,b.jsx)(b.Fragment,{children:r?(0,b.jsx)("p",{children:"Page not found"}):(0,b.jsxs)("div",{className:f,children:[(0,b.jsx)("button",{className:u,onClick:function(){return s(i)},children:"Go back"}),(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)("img",{className:l,src:n.img,alt:n.title}),(0,b.jsxs)("div",{className:v,children:[(0,b.jsx)("h1",{className:d&&m,children:n.title}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:h,children:"User Score: "}),n.score,"%"]}),(0,b.jsx)("h2",{className:d,children:"Overview"}),(0,b.jsx)("p",{children:n.overview}),(0,b.jsx)("h3",{className:d,children:"Genres"}),(0,b.jsx)("p",{children:n.genres})]})]}),(0,b.jsxs)("div",{className:_,children:[(0,b.jsx)("p",{className:g,children:"Additional information"}),(0,b.jsxs)("ul",{className:x,children:[(0,b.jsx)("li",{className:N,children:(0,b.jsx)(c.OL,{className:function(e){var t=e.isActive;return"".concat(t?I:j)},state:{from:i},to:"cast",children:"Cast"})}),(0,b.jsx)("li",{className:N,children:(0,b.jsx)(c.OL,{className:function(e){var t=e.isActive;return"".concat(t?I:j)},state:{from:i},to:"review",children:"Review"})})]}),(0,b.jsx)(a.j3,{})]})]})})},y=function(){var e=(0,s.useState)({}),t=(0,r.Z)(e,2),n=t[0],c=t[1],u=(0,s.useState)(!1),f=(0,r.Z)(u,2),p=f[0],l=f[1],h=(0,a.UO)().id;return(0,s.useEffect)((function(){(0,o.Ny)(h).then((function(e){!1===e.success&&l(!0),function(e){var t=[];e.genres&&e.genres.map((function(e){return t.push(e.name)}));var n=t.join(", "),r=e.poster_path?"https://image.tmdb.org/t/p/w300/".concat(e.poster_path):i,a={title:e.title,img:r,score:Math.ceil(10*e.vote_average),overview:e.overview,genres:n};c(a)}(e)}))}),[h]),(0,b.jsx)(w,{film:n,error:p})}},881:function(e,t,n){n.d(t,{Md:function(){return h},Ny:function(){return o},oO:function(){return m},wr:function(){return u},y:function(){return p}});var r=n(861),a=n(757),s=n.n(a),i="584850c42ae7d2e479212f5963ad1dce";function o(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="movie-"+t,!(r=sessionStorage.getItem(n))){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return e.next=6,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(i,"&language=en-US")).then((function(e){return e.json()})).then((function(e){return sessionStorage.setItem(n,JSON.stringify(e)),e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=sessionStorage.getItem("data"))){e.next=3;break}return e.abrupt("return",JSON.parse(t));case 3:return e.next=5,fetch("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(i)).then((function(e){return e.json()})).then((function(e){return sessionStorage.setItem("data",JSON.stringify(e)),e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="movieCast-"+t,!(r=sessionStorage.getItem(n))){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return e.next=6,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(i,"&language=en-US")).then((function(e){return e.json()})).then((function(e){return sessionStorage.setItem(n,JSON.stringify(e)),e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(i,"&language=en-US&page=1&include_adult=false&query=").concat(t)).then((function(e){return e.json()})).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="movieReview-"+t,!(r=sessionStorage.getItem(n))){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:return e.next=6,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(i,"&language=en-US&page=1")).then((function(e){return e.json()})).then((function(e){return sessionStorage.setItem(n,JSON.stringify(e)),e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},260:function(e,t,n){e.exports=n.p+"static/media/filmCardDefaultImg.3ff97c3b0281a878dac2.png"}}]);
//# sourceMappingURL=297.e068de13.chunk.js.map